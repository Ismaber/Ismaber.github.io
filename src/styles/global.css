@import "tailwindcss";
@plugin './hero.ts';
/* Note: You may need to change the path to fit your project structure */
@source '../../node_modules/@heroui/theme/dist/**/*.{js,ts,jsx,tsx}';
@custom-variant dark (&:is(.dark *));

:root{
  --c-primary-100: hsl(var(--heroui-primary-100));
  --c-primary-200: hsl(var(--heroui-primary-200));
  --c-primary-300: hsl(var(--heroui-primary-300));
  --c-primary-400: hsl(var(--heroui-primary-400));
  --c-primary-500: hsl(var(--heroui-primary-500));
  --c-primary-600: hsl(var(--heroui-primary-600));
  --c-primary-700: hsl(var(--heroui-primary-700));
  --c-primary-800: hsl(var(--heroui-primary-800));
  --c-primary-900: hsl(var(--heroui-primary-900));

  --c-secondary-300: hsl(var(--heroui-secondary-300));
  --c-secondary-400: hsl(var(--heroui-secondary-400));
  --c-secondary-500: hsl(var(--heroui-secondary-500));
}

html {
  /* compensa el header + un extra configurable */
  scroll-padding-top: calc(var(--header-h, 0px) + var(--extra-offset, 0px));
  scroll-behavior: smooth;
  scrollbar-gutter: stable;
}


@layer components {
  .section-title {
    position: relative;
    display: flex;
    width: 100%;
  }

  .section-title::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -4px;
    height: 3px;
    width: 100%;

    /* 2 capas: 1) sólida animada, 2) gradiente permanente */
    background-image:
      linear-gradient(
        var(--c-primary-800),
        var(--c-primary-800)
      ),
      linear-gradient(
        90deg,
        var(--c-primary-800),
        var(--c-primary-600),
        var(--c-primary-400),
        var(--c-primary-200)
      );


    background-repeat: no-repeat, no-repeat;
    background-position: left bottom, left bottom;

    /* la capa sólida empieza a 0% y se anima hasta 100% */
    background-size: var(--solid-w, 0%) 100%, 100% 100%;
    transition: background-size 500ms ease;
  }

  .group:hover .section-title::after { --solid-w: 100%; }
}

@layer utilities {
  /* === Prosa/RT tematizada con HeroUI === */
  .rt{ font-size:.95rem; line-height:1.75; text-wrap:pretty; hyphens:auto; hanging-punctuation:first; }
  .rt p{ margin:0; } .rt p + p{ margin-top:.75rem; }
  .rt h3, .rt h4{ margin-top:1rem; margin-bottom:.25rem; text-wrap:balance; }
  .rt h3{ font-size:1rem; font-weight:700; }
  .rt h4{ font-size:.95rem; font-weight:700; opacity:.95; }

  /* Énfasis (negritas) con el primario profundo */
  .rt b, .rt strong{ font-weight:700; color: var(--c-primary-800); }

  /* Enlace + hover con primario */
  .rt a{ text-decoration:underline; text-underline-offset:2px; transition: color .15s ease; }
  .rt a:hover{ color: var(--c-primary-500); }

  /* Listas con bullets del primario */
  .rt ul, .rt ol{ margin:.5rem 0 0; padding-left:1.25rem; }
  .rt li + li{ margin-top:.35rem; }
  .rt ul{ list-style:none; padding-left:1rem; }
  .rt ul li{ position:relative; }
  .rt ul li::before{
    content:""; position:absolute; left:-.9rem; top:.68em; width:.4rem; height:.4rem;
    border-radius:9999px; background: var(--c-primary-600); opacity:.9;
  }
  .rt ol{ list-style:decimal; }
  .rt ol li::marker{ font-weight:600; color: var(--c-primary-900); }

  /* Citas con borde primario y fondo suavizado desde la escala 200 */
  .rt blockquote{
    margin:.75rem 0 0; padding:.5rem .75rem; border-left:3px solid var(--c-primary-600);
    background: color-mix(in srgb, var(--c-primary-200) 35%, transparent);
    border-radius:.25rem;
  }

  /* Código inline con “chip” suave desde la escala 200 */
  .rt code{
    font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace;
    font-size:.9em;
    background: color-mix(in srgb, var(--c-primary-200) 55%, transparent);
    padding:.1rem .3rem; border-radius:.25rem;
  }

  /* (Opcional) <mark> con secundario suave para remarcar texto */
  .rt mark{
    background: color-mix(in srgb, var(--c-secondary-300) 60%, transparent);
    color: inherit; padding: .05rem .25rem; border-radius:.2rem;
  }

  /* === Overrides para dark === */
  .dark .rt b, .dark .rt strong{ color: var(--c-primary-400); }
  .dark .rt a:hover{ color: var(--c-primary-400); }

  .dark .rt ul li::before{ background: var(--c-primary-400); }
  .dark .rt ol li::marker{ color: var(--c-primary-200); }

  .dark .rt blockquote{
    border-left-color: var(--c-primary-400);
    background: color-mix(in srgb, var(--c-primary-400) 12%, transparent);
  }

  .dark .rt code{
    background: color-mix(in srgb, var(--c-primary-400) 22%, transparent);
  }

  .dark .rt mark{
    background: color-mix(in srgb, var(--c-secondary-300) 38%, transparent);
  }
  
  @keyframes chip-in {
    from { opacity: 0; transform: translateY(8px) scale(.98); filter: saturate(.9); }
    to   { opacity: 1; transform: translateY(0) scale(1);     filter: saturate(1); }
  }

  /* Fallback: visibles si no hay soporte de view timelines */
  .tool-chip { opacity: 1; transform: none; }

  @supports (animation-timeline: view()) {
    .tools-grid {
      view-timeline-name: --tools;
      view-timeline-axis: block;
    }
    .tool-chip {
      opacity: 0;
      transform: translateY(8px) scale(.98);
      animation-name: chip-in;
      animation-duration: 1s;                 /* la duración es requerida; el progreso lo dicta el scroll */
      animation-fill-mode: both;
      animation-timeline: --tools;            /* ligado al contenedor */
      animation-range: entry 10% cover 35%;   /* entra suave al aparecer el grid */
      animation-delay: calc(var(--i, 0) * 60ms); /* escalonado por índice */
      will-change: opacity, transform, filter;
    }
  }

  /* Microinteracción hover/focus */
  .tool-chip:hover,
  .tool-chip:focus-visible {
    transform: translateY(-1px) scale(1.03);
    box-shadow: 0 6px 18px color-mix(in srgb, var(--c-primary-400) 24%, transparent);
  }
  .dark .tool-chip:hover,
  .dark .tool-chip:focus-visible {
    box-shadow: 0 6px 18px color-mix(in srgb, var(--c-primary-400) 18%, transparent);
  }

  @media (prefers-reduced-motion: reduce) {
    .tool-chip { opacity: 1 !important; transform: none !important; animation: none !important; }
  }

  @keyframes fade-up {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-up {
    animation: fade-up .5s cubic-bezier(.22,.8,.36,1) both;
  }
}

